<div class="card">
  <div class="card-header">
    <ul class="nav nav-pills card-header-pills">
      <li class="nav-item">
        <button type="button" [hidden]="!showLeaveTheRoom" class="btn btn-outline-danger" (click)="onLeaveTheRoom()">Exit</button>
        <button type="button" [hidden]="!showGoHome" class="btn btn-outline-danger" (click)="onGoHome()">Go Home</button>      
      </li>
      <li class="nav-item">
        <a class="nav-link disabled" href="#">Black Door - chat room</a>
      </li>
    </ul>
  </div>

  <div class="card-body">

    <ul class="list-group list-group-flush">
      <li class="list-group-item" [ngClass]="{'text-right text-info' : message.fromMe}" *ngFor="let message of messages">{{ message.text }}</li>
    </ul>

  </div>
  <div class="card-footer bg-transparent">

    <div class="row">
      <div class="col" [hidden]="!showIsTypingLabel">
        <span class="badge badge-info text-right">is typing...</span>
      </div>
      <div class="col text-right" [hidden]="!showPingLabel">
        <span class="badge badge-primary text-right">Ping</span>
      </div>
      <div class="space"></div>
    </div>

    <div class="row" [hidden]="!showMessagePartnerDisconnected">
      <div class="alert alert-dismissible alert-warning">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        <h4 class="alert-heading">Disconnected!</h4>
        <p class="mb-0">Unfortunately your guest left the room, <a href="#" class="alert-link" (click)="onGoHome()">go home</a>.</p>
      </div>
    </div>
    
    <div class="row sender">
        <div class="input-group mb-3">
            <input type="text" class="form-control" [attr.disabled]="disabledTextMessage ? '' : null" placeholder="type a message" aria-label="type a message" aria-describedby="basic-addon2"
              [(ngModel)]="messageValue" 
              (input)="onIsTyping()"
              (keyup.enter)="onKeyUp($event)"
              >
            <div class="input-group-append">
              <button class="btn btn-secondary" [ngClass]="{'disabled' : disableSendButton}" (click)="onSendMessage()" type="button">Send</button>
            </div>
          </div>
    </div>
  </div>
</div>
